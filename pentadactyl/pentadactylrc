" Helper functions
javascript function bangtab(url, bang) { commands.execute((bang ? 'open': 'tabnew') + ' ' + url) }
javascript function bangcmd(cmd, desc, url) { commands.execute('command! -bang -description "' + desc + '" ' + cmd + ' -js bangtab("' + url + '", bang)') }

" Load all plugins
loadplugins '\.(js|penta)$'

" Revolt!
map , <Leader>

" Core settings
:colorscheme zenburn
set defsearch=google
set passkeys=mail.google.com:ujkopnclerafz}{#/`~?<CR><Tab>,gi,gc,gl,ga

" Buftabs settings
set guioptions=Cs
set showtabline=never
set buftabs-elem=tin

" Some keyboard customization
nmap J :tabprevious<CR>
nmap K :tabnext<CR>
nmap j 3<Down>
nmap k 3<Up>

" iMacros settings
" Shortcut for running the last recorded macro
nmap <Leader>m. :open imacros://run/?m=%23Current.iim<CR>
" View the sidebar
nmap <Leader>mm :sidebar iOpus iMacros<CR>

" User commands
group user
command! -description='Grab the latest nightly pentadactyl build' update-pentadactyl-nightly tabopen http://5digits.org/nightlies
command! gmail -description 'GMail site' tabopen http://mail.google.com/
map -description 'Invoke ":dialog " and wait for input' gd :dialog<Space>
map -description 'Open the full help in a new tab' <C-h> :tabopen dactyl://help/all<CR>
map -description 'Thesaurus lookup' <Leader>wt :tabopen http://thesaurus.com/search?search&q=

" vim: set ft=pentadactyl:
